/*
 * inputMgr.h
 *
 *  Created on: Mar 17, 2017
 *      Author: jwoo
 */

#ifndef INC_INPUTMGR_H_
#define INC_INPUTMGR_H_


#include <mgr.h>
#include <OISEvents.h>
#include <OISInputManager.h>
#include <OISKeyboard.h>
#include <OISMouse.h>

#include <OgreEntity.h>
#include <OgreCamera.h>
#include <OgreViewport.h>
#include <OgreSceneManager.h>
#include <OgreRenderWindow.h>
#include <OgreConfigFile.h>
#include <OgreException.h>

#include <OgreWindowEventUtilities.h>
#include <BaseApplication.h>
#include <Types.h>

class Engine;
class InputMgr : public Mgr, public Ogre::WindowEventListener, public Ogre::FrameListener, public OIS::KeyListener,
				 public OIS::MouseListener, OgreBites::SdkTrayListener{
public:
	InputMgr();
	InputMgr(Engine* engine);

	virtual void tick(float dt);
	virtual void init();
	virtual void loadLevel();
	virtual void stop();

	virtual bool keyPressed(const OIS::KeyEvent& ke);
	virtual bool keyReleased(const OIS::KeyEvent& ke);
	virtual bool mouseMoved(const OIS::MouseEvent& me);
	virtual bool mousePressed(const OIS::MouseEvent& me, OIS::MouseButtonID mID);
	virtual bool mouseReleased(const OIS::MouseEvent& me, OIS::MouseButtonID mID);

	void selectEntity();

	OIS::InputManager* mInputMgr;
	OIS::Keyboard* mKeyboard;
	OIS::Mouse* mMouse;

	float move;
	float rotate;
	float yaw;
	float dt;

	Ogre::Vector3 dirVec;



	OgreBites::SdkTrayManager*	mTrayMgr;
	OgreBites::SdkCameraMan*    mCameraMan;
};

#endif /* INC_INPUTMGR_H_ */
